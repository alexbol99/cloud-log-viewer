{"version":3,"sources":["UI/Button/Button.js","models/aws_api.js","components/FileUploadButton/FileUploadButton.js","components/MainComponent/RunningLogsList/RunningLogsListHeader/RunningLogsListHeader.js","UI/ModalPopup/ModalPopup.js","UI/Modal.js","components/FileContentPopup/FileContentPopup.js","components/MainComponent/RunningLogsList/RunningLogListItem/RunningLogListItem.js","components/MainComponent/RunningLogsList/RunningLogsListTable/RunningLogsListTable.js","models/logData.js","components/MainComponent/RunningLogsList/SearchInputComponent/SearchInputComponent.js","components/MainComponent/RunningLogsList/RunningLogsList.js","components/MainComponent/ChartAreaComponent/VegaLiteChart/VegaLiteChart.js","components/MainComponent/ChartAreaComponent/ChartAreaComponent.js","models/logFileParser.js","components/MainComponent/MainComponent.js","App.js","serviceWorker.js","index.js","components/MainComponent/RunningLogsList/RunningLogListItem/RunningLogListItem.module.css","components/MainComponent/RunningLogsList/RunningLogsListTable/RunningLogsListTable.module.css","UI/ModalPopup/ModalPopup.module.css","components/MainComponent/MainComponent.module.css","UI/Button/Button.module.css","components/MainComponent/RunningLogsList/RunningLogsListHeader/RunningLogsListHeader.module.css","components/FileContentPopup/FileContentPopup.module.css","components/MainComponent/RunningLogsList/SearchInputComponent/SearchInputComponent.module.css","components/MainComponent/RunningLogsList/RunningLogsList.module.css","components/MainComponent/ChartAreaComponent/ChartAreaComponent.module.css","components/MainComponent/ChartAreaComponent/VegaLiteChart/VegaLiteChart.module.css"],"names":["button","props","title","onClick","className","classes","Button","icon","size","spin","text","api_uri","fetchKeysList","a","fetch","response","json","keysList","JSON","parse","body","keys","fetchFileContent","key","resp","getPresignedURL","selectedFile","url","name","presignedURL","console","log","message","uploadFileToS3","method","headers","src","file","deleteFilesFromS3","keysToDelete","deletedKeys","stringify","alert","FileUploadButton","uploadFiles","selectedFiles","promises","map","selectedFileNames","Promise","all","respArray","onUploadSucceed","multiple","multipleMaxCount","onSuccess","browseFiles","RunningLogsListHeader","offsetX","offsetY","dragX","dragY","styles","onDeleteButtonPressed","faSyncAlt","loading","onRefreshButtonPressed","Modal","children","mount","document","getElementById","el","createElement","useEffect","appendChild","removeChild","createPortal","ModalPopup","handleKeyDown","ev","code","closePopup","elementDrag","window","event","clientX","clientY","element","target","style","top","offsetTop","left","offsetLeft","closeDragElement","onmouseup","onmousemove","addEventListener","removeEventListener","showPopup","id","BackDrop","onMouseDown","header","FileContentPopup","row_lines","content","split","showFileContentPopup","closeFileContentPopup","line","RunningLogsListItem","useState","setShowFileContentPopup","refElement","useRef","data","selected","scrollIntoView","tableClientRect","current","parentElement","getBoundingClientRect","rowClientReact","bottom","RunningLogListItemClicked","RunningLogListItem","batchFailed","RunningLogListItemFailed","checkMarkStyle","marked","RunningLogListItemCheckMarkClicked","RunningLogListItemCheckMarkNotClicked","e","preventDefault","stopPropagation","ctrlKey","checkMarkClicked","shiftKey","getSelection","empty","itemShiftClicked","itemClicked","ref","faTrashAlt","runningDate","jobName","step","checklist","RunningLogListItemNumeric","actionsNum","layersNum","batchJobsNum","runningTime","RunningLogsListTable","selectedIndex","logsListData","length","logItemClicked","dataLength","next","hasMore","RunningLogsListTableCheckMark","width","index","errorTime","logItemShiftClicked","getListData","localData","batch","ActNum","Set","action","LayerName","StepName","ChecklistName","time_diff","start_time","complete_time","Date","isNaN","toISOString","substr","SearchInputComponent","faSearch","type","placeholder","onChange","RunningLogsList","logDataArray","onSearchJobNameChanged","fetchMoreData","VegaLiteChart","chartData","runData","logData","mergerObj","downloadObj","stats","timestamp","acpTime","find","Stage","Index","StageIndex","Object","Succeed","Name","AnalysisName","Layer","ActParam","BeginNf","EndNf","ContourGroupId","ContourGroupNum","StartDate","StartTime","EndDate","CompleteTime","Time","uploadObj","uploadTime","splitterObj","splitterTime","mergerTime","downloadTime","getChartData","client","spec","subtitle","values","mark","tooltip","encoding","x","field","timeUnit","x2","y","sort","color","autosize","VegaLite","actions","export","source","compiled","editor","downloadFileName","theme","ChartAreaComponent","refContainer","chartWidth","setChartWidth","currentContainerWidth","clientWidth","numCharts","arrayOfTimestamps","arrayOfLines","filter","match","tmpArrayOfLines","splice","timeStamp","utcDate","dateStr","i","timeStampToDate","time","toDateString","push","timestamps","errorTimeString","toLocaleString","job_ended_arr","end_time","d","batchObject","slice","join","object","splitter","s","merger","mergerStartMessage","mergerCompleteMessage","downloadStartMessage","downloadCompleteMessage","errorTimeStr","acp_transformed","Step","Number","acp_started","acp_completed","completeTimeMessage","c","errorMessage","timeStr","splitArray","month","day","year","hour","min","sec","UTC","MainComponent","setLogDataArray","setLoading","searchJobNamePattern","setSearchJobNamePattern","fetchData","localDataArray","resolve","reject","newDataArray","concat","undefined","keysListToFetch","filteredKeysList","filterNewKeysList","Array","fetchedDataArray","b","some","deleteFile","keyStr","confirm","newLogDataArray","includes","clickedData","clickedIndex","findIndex","forEach","value","App","fontSize","Boolean","location","hostname","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","module","exports"],"mappings":"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","file":"static/js/main.a414106e.chunk.js","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classes from \"./Button.module.css\";\n\nconst button = (props) => {\n    return (\n        <button title={props.title} onClick={props.onClick} className={classes.Button}>\n            {props.icon ?\n            <FontAwesomeIcon icon={props.icon} size=\"x\" spin={props.spin}  /> :\n                null}\n            {props.text}\n        </button>\n    );\n};\n\nexport default button;","// let awsRegion = \"eu-central-1\";\n// let api_uri = \"https://bah2tkltg6.execute-api.eu-central-1.amazonaws.com/test/list\";\nlet api_uri = \"https://vm7sirnd04.execute-api.us-east-1.amazonaws.com/test\";\n\n// Fetch keys list (filenames) from s3 bucket using given api\nexport const fetchKeysList = async() => {\n    let response = await fetch(`${api_uri}/list`);\n    let json = await response.json();\n    let keysList = JSON.parse(json.body).keys;\n    return keysList;\n}\n\n// Fetch content of single file from s3 bucket key\nexport const fetchFileContent = async (key) => {\n    let resp = await fetch(`${api_uri}/list/${key}`);\n    let text = await resp.json();\n    return text;\n}\n// Fetch content of files from s3 bucket by given list of keys\n// export const fetchFileContentByKeysList = async (keysList) => {\n//     let promises = keysList.map (key => fetch(`${api_uri}/list/${key}`))\n//     let respArray = await Promise.all(promises)\n//     let json_promises = respArray.map(resp => resp.json())\n//     let textArray = await Promise.all(json_promises);\n//     return textArray;\n// }\n\nexport const getPresignedURL = async (selectedFile) => {\n    const url = `${api_uri}/get-presigned-url/${selectedFile.name}`\n    let presignedURL = null;\n    try {\n        let response = await fetch(url);\n        let json = await response.json();\n        presignedURL = json.url;\n    }\n    catch (err) {\n        console.log(err.message)\n    }\n    return presignedURL;\n};\n\nexport const uploadFileToS3 = async (selectedFile) => {\n    // Step 1 - get pre-signed POST data.\n    const presignedURL = await getPresignedURL(selectedFile);\n    // if (!presignedURL)  failed to get presigned url - return rejected promise ?\n    // Step 2 - upload the file to S3.\n    return fetch(presignedURL, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: selectedFile.src.file\n        })\n};\n\n// export const uploadFileToS3 = async (presignedURL, file) => {\n//     let json = null;\n//     try {\n//         let response = await fetch(presignedURL, {\n//             method: \"PUT\",\n//             headers: {\n//                 \"Content-Type\": \"application/json\"\n//             },\n//             body: file\n//         });\n//         json = await response.json();\n//     }\n//     catch (err) {\n//         console.log(err.message)\n//     }\n//\n//     return json;\n// };\n\nexport const deleteFilesFromS3 = async (keysToDelete) => {\n    const url = `${api_uri}/delete`;\n    let deletedKeys = [];\n    try {\n        let response = await fetch(url,{\n            method:\"DELETE\",\n            headers: {\n                'Content-Type': 'application/json'\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            body: JSON.stringify( {keys: keysToDelete})\n        });\n        let json = await response.json();\n        console.log(json.keys);\n        deletedKeys = json.keys;\n    }\n    catch (e) {\n        alert(\"error delete files\")\n    }\n    return deletedKeys;\n}\n","import React from \"react\";\nimport Files from \"react-butterfiles\";\n// import readFiles from \"../../models/readFile\";\n// import styles from \"./FileUploadButton.module.css\";\nimport Button from \"../../UI/Button/Button\"\nimport {uploadFileToS3} from \"../../models/aws_api\";\n\n/**\n * Component renders a simple \"Select file...\" button which opens a file browser.\n * Once a valid file has been selected, the upload process will start.\n * @returns {*}\n * @constructor\n */\nconst FileUploadButton = (props) => {\n    const uploadFiles = async (selectedFiles) => {\n        let promises = selectedFiles.map( selectedFile => uploadFileToS3(selectedFile) );\n        let selectedFileNames = selectedFiles.map( selectedFile => selectedFile.name );\n\n        try {\n            let respArray = await Promise.all(promises);\n            // let json_promises = respArray.map(resp => resp.json())\n            // json = await Promise.all(json_promises);\n            props.onUploadSucceed(selectedFileNames);\n            return respArray;\n        }\n        catch (err) {\n            console.log(err);\n            return err.message;\n        }\n    }\n\n    return  (\n        <Files\n            multiple={true}\n            multipleMaxCount={300}\n            onSuccess={selectedFiles => uploadFiles(selectedFiles)}\n        >\n            {({ browseFiles }) =>\n                <Button\n                    title=\"Upload log files\"\n                    text=\"Upload\"\n                    onClick={browseFiles}>\n                </Button>}\n        </Files>\n    );\n}\n\nexport default FileUploadButton;","import React from 'react';\nimport Button from '../../../../UI/Button/Button';\nimport { faSyncAlt } from '@fortawesome/free-solid-svg-icons'\nimport FileUploadButton from \"../../../FileUploadButton/FileUploadButton\";\nimport styles from './RunningLogsListHeader.module.css'\n\nfunction RunningLogsListHeader(props) {\n    return (\n        <header className={styles.RunningLogsListHeader}>\n            <FileUploadButton\n                onUploadSucceed={props.onUploadSucceed}\n            />\n            <Button\n                title=\"Delete log files\"\n                text=\"Delete\"\n                // icon={faSyncAlt}\n                // spin={props.loading}\n                onClick={props.onDeleteButtonPressed}\n            />\n            {/*<Button*/}\n            {/*    title=\"Compare two logs\"*/}\n            {/*    text=\"Compare\"*/}\n            {/*    // icon={faSyncAlt}*/}\n            {/*    // spin={props.loading}*/}\n            {/*    // onClick={props.onDeleteButtonPressed}*/}\n            {/*/>*/}\n            <Button\n                title=\"Reload files\"\n                icon={faSyncAlt}\n                spin={props.loading}\n                onClick={props.onRefreshButtonPressed}\n            />\n\n        </header>\n    );\n}\n\nexport default RunningLogsListHeader;\n","import React, { useEffect } from \"react\";\nimport Modal from \"../Modal\";\nimport classes from \"./ModalPopup.module.css\";\n\nlet offsetX;\nlet offsetY;\nlet dragX;\nlet dragY;\n\nconst ModalPopup = (props) => {\n\n    const onBackDropClicked = (ev) => {\n        if (ev.target.id === \"backDrop\") {\n            props.closePopup();\n        }\n    };\n\n    const handleKeyDown = (ev) => {\n        if (ev.code === \"Escape\") {\n            props.closePopup();\n        }\n    };\n\n    const elementDrag = (ev) => {\n        ev = ev || window.event;\n        // calculate the new cursor position:\n        offsetX = dragX - ev.clientX;\n        offsetY = dragY - ev.clientY;\n        dragX = ev.clientX;\n        dragY = ev.clientY;\n        // set the element's new position:\n        let element = ev.target;\n        element.style.top = (element.offsetTop - offsetY) + \"px\";\n        element.style.left = (element.offsetLeft - offsetX) + \"px\";\n    };\n\n    const closeDragElement = (ev) => {\n        /* stop moving when mouse button is released:*/\n        ev.target.onmouseup = null;\n        ev.target.onmousemove = null;\n    };\n\n    const dragMouseDown = (ev) => {\n        ev = ev || window.event;\n        // get the mouse cursor position at startup:\n        dragX = ev.clientX;\n        dragY = ev.clientY;\n        ev.target.onmouseup = closeDragElement;\n        // call a function whenever the cursor moves:\n        ev.target.onmousemove = elementDrag;\n    };\n\n    useEffect(() => {\n        document.addEventListener('keydown', handleKeyDown);\n        return () => document.removeEventListener('keydown', handleKeyDown);\n    } );\n\n    return props.showPopup ? (\n        <Modal>\n            <div\n                id=\"backDrop\"\n                className={classes.BackDrop}\n                onClick={onBackDropClicked}\n            >\n                <div className={classes.ModalPopup}\n                     onMouseDown={dragMouseDown}\n                >\n                    <header>{props.header}</header>\n                    {props.children}\n                </div>\n            </div>\n        </Modal>\n    ) : null;\n};\n\nexport default ModalPopup;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst Modal = ({children}) => {\n    const mount = document.getElementById(\"modal-root\");\n    const el = document.createElement(\"div\");\n\n    useEffect(() => {\n        mount.appendChild(el);\n        return () => mount.removeChild(el);\n    }, [el, mount]);\n\n    return createPortal(children, el)\n};\n\nexport default Modal;\n","/**\n * Created by alexanderbol on 13/04/2017.\n */\n\nimport React from 'react';\nimport classes from './FileContentPopup.module.css';\nimport ModalPopup from \"../../UI/ModalPopup/ModalPopup\";\n\nconst FileContentPopup = (props) => {\n    const row_lines = props.content.split('\\n');\n    return (\n        <ModalPopup\n            showPopup={props.showFileContentPopup}\n            closePopup={props.closeFileContentPopup}\n            header=\"Log File Content\"\n        >\n            <div className={classes.FileContentPopup}>\n                {\n                    row_lines.map( line =>\n                        <p>{line}</p>\n                    )\n                }\n            </div>\n        </ModalPopup>\n    )\n};\n\nexport default FileContentPopup;\n","import React, {useRef, useEffect, useState} from 'react';\nimport styles from './RunningLogListItem.module.css';\nimport FileContentPopup from \"../../../FileContentPopup/FileContentPopup\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTrashAlt} from '@fortawesome/free-solid-svg-icons'\n\nfunction RunningLogsListItem(props) {\n    const [showFileContentPopup, setShowFileContentPopup] = useState(false);\n    const refElement = useRef();\n\n    useEffect( () => {\n        if (props.data.selected) {\n            scrollIntoView();\n        }\n    })\n\n    const scrollIntoView = () => {\n        const tableBody = refElement.current.parentElement;\n        const table = tableBody.parentElement;\n        const tableClientRect = table.getBoundingClientRect();\n        const rowClientReact = refElement.current.getBoundingClientRect();\n        if (rowClientReact.bottom > tableClientRect.bottom) {\n            refElement.current.scrollIntoView(false);\n        }\n        if (rowClientReact.top < tableClientRect.top) {\n            refElement.current.scrollIntoView(true);\n        }\n    }\n\n    // Callback to display Log File Content Popup\n    const showLogFileContentPopup = () => {\n        setShowFileContentPopup(true)\n    }\n\n    const closeLogFileContentPopup = () => {\n        setShowFileContentPopup(false)\n    }\n\n    const itemClicked = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (e.ctrlKey) {\n            props.checkMarkClicked();\n        }\n        else if (e.shiftKey) {\n            document.getSelection().empty();\n            props.itemShiftClicked();\n        }\n        else {\n            props.itemClicked();\n        }\n    }\n\n    let style = props.data.selected ? styles.RunningLogListItemClicked : styles.RunningLogListItem;\n    style = props.batchFailed ? `${style} ${styles.RunningLogListItemFailed}` : style;\n    // let object_url = \"https://s3.console.aws.amazon.com/s3/object/acp-cloud-logs/\"+props.data.key;\n\n    let checkMarkStyle = props.marked ?\n        styles.RunningLogListItemCheckMarkClicked : styles.RunningLogListItemCheckMarkNotClicked;\n\n    return (\n        <>\n            <tr className={style} onClick={itemClicked} ref={refElement}>\n                <td className={checkMarkStyle}>\n                    <FontAwesomeIcon icon={faTrashAlt} />\n                </td>\n                <td>\n                    {props.data.runningDate}\n                </td>\n                <td>\n                    {props.data.jobName}\n                </td>\n                <td>\n                    {props.data.step}\n                </td>\n                <td>\n                    {props.data.checklist}\n                </td>\n                <td className={styles.RunningLogListItemNumeric}>\n                    {props.data.actionsNum}\n                </td>\n                <td className={styles.RunningLogListItemNumeric}>\n                    {props.data.layersNum}\n                </td>\n                <td className={styles.RunningLogListItemNumeric}>\n                    {props.data.batchJobsNum}\n                </td>\n                <td>\n                    {props.data.runningTime || \"Failed\"}\n                </td>\n                <td>\n                    <div onClick={showLogFileContentPopup} >\n                        {props.data.key}\n                    </div>\n                    {/*<a href={object_url} target=\"_blank\" rel=\"noopener noreferrer\">*/}\n                    {/*    {props.data.key}*/}\n                    {/*</a>*/}\n                </td>\n            </tr>\n\n            {showFileContentPopup ?\n                <FileContentPopup\n                    showFileContentPopup={showFileContentPopup}\n                    closeFileContentPopup={closeLogFileContentPopup}\n                    content={props.data.text}\n                /> : null }\n\n        </>\n    );\n}\n\nexport default RunningLogsListItem;\n","import React, {useEffect} from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport styles from './RunningLogsListTable.module.css';\nimport RunningLogsListItem from \"../RunningLogListItem/RunningLogListItem\";\nimport {faTrashAlt} from '@fortawesome/free-solid-svg-icons'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nfunction RunningLogsListTable(props) {\n    useEffect( () => {\n        const handleKeyDown = (e) => {\n            switch (e.code) {\n                case \"ArrowDown\":\n                    e.stopPropagation();\n                    e.preventDefault();\n                    if (props.selectedIndex < props.logsListData.length-1) {\n                        props.logItemClicked(props.selectedIndex+1);\n                    }\n                    break;\n                case \"ArrowUp\":\n                    e.stopPropagation();\n                    e.preventDefault();\n                    if (props.selectedIndex > 0) {\n                        props.logItemClicked(props.selectedIndex-1);\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        document.addEventListener('keydown', handleKeyDown);\n\n        return () => {\n            document.removeEventListener('keydown', handleKeyDown);\n        };\n    })\n\n    const fetchMoreData = () => {\n        // alert(\"Fetch more data\")\n        // props.fetchMoreData();\n    }\n\n    return (\n        <div>\n            <InfiniteScroll\n                dataLength={props.logsListData?.length}\n                next={fetchMoreData}\n                hasMore={true}\n            >\n\n                <table className={styles.RunningLogsListTable}>\n                    <thead>\n                    <tr>\n                        <th className={styles.RunningLogsListTableCheckMark} style={{width: \"3%\"}}>\n                            <FontAwesomeIcon icon={faTrashAlt} />\n                        </th>\n                        <th style={{width:\"15%\"}}>Running date</th>\n                        <th style={{width:\"22%\"}}>Job Name</th>\n                        <th style={{width:\"3%\"}}>Step</th>\n                        <th style={{width:\"15%\"}}>Checklist</th>\n                        <th style={{width:\"5%\"}}># Actions</th>\n                        <th style={{width:\"5%\"}}># Layers</th>\n                        <th style={{width:\"5%\"}}># ACPs</th>\n                        <th style={{width:\"4%\"}}>Running Time</th>\n                        <th style={{width:\"13%\"}}>Log File Name</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        {props.logsListData?.map( (data, index) =>\n                            <RunningLogsListItem key={index}\n                                                 data={data}\n                                                 // selected={props.selectedIndex===index}\n                                                 marked={data.marked}\n                                                 batchFailed={!!data.errorTime}\n                                                 itemClicked={() => props.logItemClicked(data)}\n                                                 itemShiftClicked = {() => props.logItemShiftClicked(data)}\n                                                 checkMarkClicked = {() => props.checkMarkClicked(data)}\n                            />\n                        )}\n                    </tbody>\n                </table>\n            </InfiniteScroll>\n\n        </div>\n    );\n}\n\nexport default RunningLogsListTable;\n","export function getChartData(data) {\n    let stats = data.batch.map(action => {\n        let timestamp = data.acpTime.find(\n            a => a.Stage === action.Stage && a.Index === action.StageIndex\n        );\n        return {\n            Object: timestamp.Succeed ? \"Acp\" : \"Acp Failed\",\n            Stage: action.Stage,\n            Index: action.Stage + '_' + action.StageIndex,\n            ActNum: action.ActNum,\n            Name: action.AnalysisName,\n            Layer: action.LayerName,\n            ActParam: action.ActParam,\n            BeginNf: action.BeginNf,\n            EndNf: action.EndNf,\n            ContourGroupId: action.ContourGroupId,\n            ContourGroupNum: action.ContourGroupNum,\n            StartDate: timestamp ? timestamp.StartTime : \"\",\n            EndDate: timestamp ? timestamp.CompleteTime : \"\",\n            Time: time_diff(timestamp.StartTime, timestamp.CompleteTime)\n        };\n    });\n\n    let uploadObj = {\n        Object: \"Upload\",\n        Name: \"Upload\",\n        Index: -1,\n        StartDate: data.uploadTime.StartTime,\n        EndDate: data.uploadTime.CompleteTime\n    };\n\n    let splitterObj = {\n        Object: \"Splitter\",\n        Name: \"Splitter\",\n        Index: 0,\n        StartDate: data.splitterTime.StartTime,\n        EndDate: data.splitterTime.CompleteTime\n    };\n\n    let mergerObj;\n    if (data.mergerTime.StartTime && data.mergerTime.CompleteTime) {\n        mergerObj = {\n            Object: \"Merger\",\n            Name: \"Merger\",\n            Index: stats.length + 1,\n            StartDate: data.mergerTime.StartTime,\n            EndDate: data.mergerTime.CompleteTime\n        };\n    }\n\n    let downloadObj;\n    if (data.downloadTime.StartTime && data.downloadTime.CompleteTime) {\n        downloadObj = {\n            Object: \"Download\",\n            Name: \"Download\",\n            Index: stats.length + 2,\n            StartDate: data.downloadTime.StartTime,\n            EndDate: data.downloadTime.CompleteTime\n        };\n    }\n\n    stats = [uploadObj, splitterObj, ...stats];\n    if (mergerObj) stats = [...stats, mergerObj];\n    if (downloadObj) stats = [...stats, downloadObj];\n\n    return stats;\n}\n\n\nexport function getListData(localData) {\n    const actionsNum = localData?.batch[localData.batch.length - 1].ActNum;\n    const layersNum = new Set(localData?.batch.map(action => action.LayerName)).size;\n    return {\n        runningDate: localData?.runningDate,\n        jobName: localData?.jobName,\n        step: localData?.batch[0].StepName,\n        checklist: localData?.batch[0].ChecklistName,\n        actionsNum: actionsNum,\n        layersNum: layersNum,\n        runningTime: localData?.runningTime,\n        batchJobsNum: localData?.batch.length,\n        key: localData?.key,\n        errorTime: localData?.errorTime,\n        text: localData?.text,\n        marked: localData?.marked,\n        selected: localData?.selected\n    }\n}\n\n// function time_diff(start_time, complete_time) {\n//     let start = start_time.split(':').map(t => Number(t));\n//     let start_sec = start[0] * 3600 + start[1] * 60 + start[2];\n//     let complete = complete_time.split(':').map(t => Number(t));\n//     let complete_sec = complete[0] * 3600 + complete[1] * 60 + complete[2];\n//     let diff_sec = complete_sec - start_sec;\n//     return diff_sec;\n// }\n\nfunction time_diff(start_time, complete_time) {\n    if (start_time instanceof Date && !isNaN(start_time) &&\n    complete_time instanceof Date && !isNaN(complete_time)) {\n     return msecToHHMMSS(complete_time - start_time);\n    }\n    else {\n        return 0;\n    }\n}\n\nfunction msecToHHMMSS(time) {\n    return new Date(time).toISOString().substr(11, 8);\n}\n","import React from \"react\";\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport styles from \"./SearchInputComponent.module.css\";\n\nconst SearchInputComponent = (props) => {\n    return (\n        <div className={styles.SearchInputComponent}>\n            <FontAwesomeIcon icon={faSearch} />\n            <input type=\"text\" name=\"searchJobName\" placeholder=\"job name\" onChange={props.onChange} />\n        </div>\n    )\n}\n\nexport default SearchInputComponent;","import React from 'react';\nimport RunningLogsListHeader from \"./RunningLogsListHeader/RunningLogsListHeader\";\nimport RunningLogsListTable from \"./RunningLogsListTable/RunningLogsListTable\";\nimport {getListData} from \"../../../models/logData\";\nimport SearchInputComponent from \"./SearchInputComponent/SearchInputComponent\";\nimport styles from './RunningLogsList.module.css';\n\nfunction RunningLogsList(props) {\n    // Setup data before rendering\n    let logsListData = [];\n    if (props.logDataArray.length > 0) {\n        logsListData = props.logDataArray.map(data => getListData(data))\n    }\n    return (\n        <div className={styles.RunningLogsList}>\n            <RunningLogsListHeader\n                loading={props.loading}\n                onUploadSucceed={props.onUploadSucceed}\n                onDeleteButtonPressed={props.onDeleteButtonPressed}\n                onRefreshButtonPressed={props.onRefreshButtonPressed}\n            />\n\n            <SearchInputComponent\n                onChange={props.onSearchJobNameChanged}\n            />\n\n            <RunningLogsListTable\n                logsListData={logsListData}\n                selectedIndex={props.selectedIndex}\n                logItemClicked={props.logItemClicked}\n                logItemShiftClicked={props.logItemShiftClicked}\n                checkMarkClicked={props.checkMarkClicked}\n                fetchMoreData={props.onRefreshButtonPressed}\n            />\n\n        </div>\n    );\n}\n\nexport default RunningLogsList;\n","import React from 'react';\nimport { VegaLite } from 'react-vega'\nimport styles from './VegaLiteChart.module.css';\nimport {getChartData, getListData} from \"../../../../models/logData\";\n\nfunction VegaLiteChart(props) {\n    // Setup data before rendering\n    let chartData = null;\n    let runData = null;\n\n    let localData = props.logData;\n    try {\n        chartData = getChartData(localData);\n    } catch (e) {\n        chartData = null;\n    }\n    runData = getListData(localData);\n\n    const client = runData.key.split('-')[0] || \"unknown\";\n    const spec = {\n        \"$schema\": \"https://vega.github.io/schema/vega-lite/v4.json\",\n        title: {\n            text: runData?.jobName,\n            subtitle: `Client: ${client} Running time: ${runData?.runningTime}`\n        },\n        data: { values: chartData },\n        mark: { type: \"bar\", tooltip: [] },\n        encoding: {\n            x: {\n                type: \"temporal\",\n                field: \"StartDate\",\n                timeUnit: \"hoursminutesseconds\"\n            },\n            x2: {\n                type: \"temporal\",\n                field: \"EndDate\",\n                timeUnit: \"hoursminutesseconds\"\n            },\n            y: {\n                type: \"nominal\",\n                field: \"Index\",\n                sort: null\n            },\n            color: { field: \"Object\" }\n        },\n        // resize: true,\n        width: props.width,\n        // height: 800,\n        autosize: \"fit\",\n    }\n\n    return (\n        <div className={styles.VegaLiteChart}>\n            {\n                chartData && runData.runningTime ?\n                    <VegaLite\n                        spec={spec}\n                        data={chartData}\n                        actions={{\n                            export: true,\n                            source: false,\n                            compiled: false,\n                            editor: false\n                        }}\n                        downloadFileName={runData?.jobName}\n                        theme=\"urbaninstitute\"\n                    /> : null\n            }\n        </div>\n    );\n}\n\nexport default VegaLiteChart;\n","import React, {useEffect, useRef, useState} from \"react\";\nimport styles from \"./ChartAreaComponent.module.css\";\nimport VegaLiteChart from \"./VegaLiteChart/VegaLiteChart\";\n\nconst ChartAreaComponent = (props) => {\n    const refContainer = useRef(null);\n    const [chartWidth, setChartWidth] = useState(800);\n\n    useEffect( () => {\n        if (refContainer.current) {\n            const currentContainerWidth = refContainer.current.clientWidth;\n            const numCharts = props.logDataArray.length;\n            const currentChartWidth = numCharts === 1 ? 800 : 0.8 * currentContainerWidth / 2;\n            setChartWidth(currentChartWidth);\n        }\n    },[props.logDataArray.length])\n\n    return props.logDataArray.length > 0 ? (\n        <div className={styles.ChartAreaComponent}  ref={refContainer}>\n            {\n                props.logDataArray.map( (data, index) => (\n                    <VegaLiteChart\n                        key={index}\n                        logData={data}\n                        width={chartWidth}\n                    />\n                ))\n            }\n        </div>\n    ) : null;\n}\n\nexport default ChartAreaComponent","export function parse(text) {\n    const row_lines = text.split('\\n');\n    const arrayOfTimestamps = timestamps(row_lines);\n    const errorTimeString = errorTime(row_lines, arrayOfTimestamps);\n    return {\n        runningDate: runningDate(arrayOfTimestamps),\n        runningTime: runningTime(arrayOfTimestamps, errorTimeString),\n        jobName: jobName(row_lines),\n        batch: batch(arrayOfTimestamps),\n        uploadTime: uploadTime(arrayOfTimestamps),\n        splitterTime: splitterTime(arrayOfTimestamps),\n        acpTime: acpTime(row_lines, arrayOfTimestamps),\n        mergerTime: mergerTime(arrayOfTimestamps),\n        downloadTime: downloadTime(arrayOfTimestamps),\n        errorTime: errorTimeString\n    };\n}\n\nfunction jobName(row_lines) {\n    const job_line = row_lines.filter(line => line.match(\"Job:\"))[0];\n    const job_name = job_line.split(' ')[1];\n    return job_name;\n}\n\nfunction runningDate(arrayOfTimestamps) {\n    let job_started = arrayOfTimestamps.filter(\n        line => line.message === \"Ready for commands\"\n    )[0];\n    return job_started.utcDate.toLocaleString();\n}\n\n// function runningDate(row_lines) {\n//     let arrayOfLines = row_lines.filter(line => line.match(\"time\"));\n//     let splitArray = arrayOfLines[0].split(' ');\n//     let [day, month, year] = splitArray[1].split(':')[1].split('/');\n//     if (day.length > 2) day = day.substr(1);\n//     let [hour, min] = splitArray[2].split(':');\n//     if (hour.trim().length > 2) hour = hour.substr(1);\n//     if (min.trim().length > 2) min = min.substr(1);\n//     return new Date(Date.UTC(year, month - 1, day, hour, min)).toUTCString();\n// }\n\nfunction runningTime(arrayOfTimestamps, errorTime) {\n    let job_started = arrayOfTimestamps.filter(\n        line => line.message === \"Ready for commands\"\n    )[0];\n    let start_time = job_started.utcDate;\n    let job_ended_arr = arrayOfTimestamps.filter(\n        line => line.message === \"Job is ready\"\n    );\n    let end_time = job_ended_arr.length > 0 ? job_ended_arr[0].utcDate : errorTime;\n\n    return end_time ? time_diff(start_time, end_time) : \"\";\n}\n\nfunction batch(arrayOfTimestamps) {\n    let batchObjectList = arrayOfTimestamps.filter(d => d.type === \"Batch\");\n    let messageList = batchObjectList.map(batchObject =>\n        batchObject.message.slice(2)\n    );\n    let message = messageList.join(\"\");\n    return JSON.parse(message);\n}\n\nfunction uploadTime(arrayOfTimestamps) {\n    let uploadTime = {\n        StartTime: arrayOfTimestamps.find(\n            d => d.object === \"WebClient\" && d.message === \"Job was registered\"\n        ).utcDate,\n        CompleteTime: arrayOfTimestamps.find(\n            d => d.object === \"WebClient\" && d.message === \"After send\"\n        ).utcDate\n    };\n    return uploadTime;\n}\n\nfunction splitterTime(arrayOfTimestamps) {\n    let splitter = arrayOfTimestamps.filter(d => d.object === \"Splitter\")\n    let s = {\n        StartTime: splitter.find(s => s.message === \"Splitter started\").utcDate,\n        CompleteTime: splitter.find(s => s.message === \"End of Split\").utcDate\n    };\n    return s;\n}\n\nfunction mergerTime(arrayOfTimestamps) {\n    let merger = arrayOfTimestamps.filter(d => d.object === \"Merger\");\n    let mergerStartMessage = merger.find(s => s.message === \"Preparing job for merge\");\n    let mergerCompleteMessage = merger.find(s => s.message === \"Moving Job to S3\");\n\n    let s = {\n        StartTime: mergerStartMessage ? mergerStartMessage.utcDate : null,\n        CompleteTime: mergerCompleteMessage ? mergerCompleteMessage.utcDate : null\n    };\n    return s;\n}\n\nfunction downloadTime(arrayOfTimestamps) {\n    let downloadStartMessage = arrayOfTimestamps.find(d => d.object === \"WebClient\" && d.message === \"Download Data\");\n    let downloadCompleteMessage = arrayOfTimestamps.find(d => d.object === \"WebClient\" && d.message === \"Job is ready\");\n    let downloadTime = {\n        StartTime: downloadStartMessage ? downloadStartMessage.utcDate : null,\n        CompleteTime: downloadCompleteMessage ? downloadCompleteMessage.utcDate : null\n    };\n    return downloadTime;\n}\n\nfunction acpTime(row_lines, arrayOfTimestamps) {\n    let errorTimeStr = errorTime(row_lines, arrayOfTimestamps);\n    let acp = arrayOfTimestamps.filter(d => (d.type === \"Progress\" || d.type === \"Info\") && d.object === \"ACP\");\n    let acp_transformed = acp.map(action => {\n        let message = action.message.split(' ');\n        return {\n            Time: action.utcDate,\n            Step: message[0],\n            Stage: message[1].split(':')[1],\n            Index: Number(message[2].split(':')[1]) + 1\n        };\n    });\n    let acp_started = acp_transformed\n        .filter(action => action.Step === \"Starting\")\n        .map(action => {\n            return {\n                Stage: action.Stage,\n                Index: action.Index,\n                StartTime: action.Time\n            };\n        });\n    let acp_completed = acp_transformed\n        .filter(action => action.Step === \"Completing\")\n        .map(action => {\n            return {\n                Stage: action.Stage,\n                Index: action.Index,\n                CompleteTime: action.Time\n            };\n        });\n    let acp_timestamp = acp_started.map(action => {\n        let completeTimeMessage = acp_completed.find(\n            c => c.Stage === action.Stage && c.Index === action.Index\n        );\n\n        return {\n            Stage: action.Stage,\n            Index: action.Index,\n            StartTime: action.StartTime,\n            CompleteTime: completeTimeMessage ? completeTimeMessage.CompleteTime : errorTimeStr,\n            Succeed: !!completeTimeMessage\n        };\n    });\n    return acp_timestamp;\n}\n\nfunction errorTime(row_lines, arrayOfTimestamps) {\n    let errorMessage = arrayOfTimestamps.find(\n        d => d.object === \"WebClient\" && d.type === \"ERROR\"\n    );\n\n    let errorTime = null;\n    if (errorMessage) {\n        errorTime = errorMessage.utcDate\n    }\n    // else {\n    //     let ping_lines = row_lines\n    //         .filter(line => line.match(\"I am alive\"));\n    //     errorTime = ping_lines.length > 0 ? JSON.parse(ping_lines[ping_lines.length - 1]).Time : null;\n    // }\n    return errorTime;\n}\n\nfunction timestamps(row_lines) {\n    let arrayOfLines = row_lines.filter(line => line.match(\"time\"));\n    let tmpArrayOfLines = [...arrayOfLines];\n    tmpArrayOfLines.splice(0, 1);\n    let arrayOfTimestamps = [];\n    let timeStamp;\n    let utcDate;\n    let dateStr = \"\";\n    for (let i = 0; i < tmpArrayOfLines.length; i++) {\n        try {\n            timeStamp = JSON.parse(tmpArrayOfLines[i]);\n            if (timeStamp.message === \"Submit Splitter\") continue; // bad format\n            utcDate = timeStampToDate(timeStamp.time, dateStr);\n            dateStr = utcDate.toDateString();\n            arrayOfTimestamps.push({ utcDate, ...timeStamp });\n        } catch (e) {\n            return [i, tmpArrayOfLines[i]];\n        }\n    }\n    return arrayOfTimestamps;\n}\n\nfunction time_diff(start_time, complete_time) {\n    if (start_time instanceof Date && !isNaN(start_time) &&\n        complete_time instanceof Date && !isNaN(complete_time)) {\n        return msecToHHMMSS(complete_time - start_time);\n    }\n    else {\n        return 0;\n    }\n}\n\nfunction msecToHHMMSS(time) {\n    return new Date(time).toISOString().substr(11, 8);\n}\n\nfunction timeStampToDate(timeStr, dateStr) {\n    let splitArray = timeStr.split(', ');\n    if (splitArray.length === 1) {   // bad format only time no date\n        return new Date(dateStr + ' ' + timeStr)\n    }\n    else {\n        let [month, day, year] = splitArray[0].split('/');\n        let [hour, min, sec] = splitArray[1].split(':');\n        return new Date(Date.UTC(year, month - 1, day, hour, min, sec)); // .toUTCString();\n    }\n}\n","import React, {useEffect, useState} from 'react';\nimport styles from './MainComponent.module.css';\nimport RunningLogsList from \"./RunningLogsList/RunningLogsList\";\nimport ChartAreaComponent from \"./ChartAreaComponent/ChartAreaComponent\";\nimport {parse} from \"../../models/logFileParser\";\nimport {/*fetchFileContentByKeysList,*/ fetchFileContent, fetchKeysList, deleteFilesFromS3} from \"../../models/aws_api\";\n\nfunction MainComponent(props) {\n    const [logDataArray, setLogDataArray] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchJobNamePattern, setSearchJobNamePattern] = useState(\"\");\n\n    // const numInChunk = 8;\n\n    // Fetch content of files from s3 bucket by given list of keys\n    // const fetchDataByKeysList = async (keysList) => {\n    //     let textArray = await fetchFileContentByKeysList(keysList);\n    //     let dataArray = textArray.map( e => parse(e.text));\n    //     dataArray.forEach( (data,i) => data.key = keysList[i] )\n    //     dataArray.forEach( (data,i) => data.text = textArray[i].text )\n    //     return dataArray;\n    // }\n\n    // Fetch content of one file from s3 bucket by given key\n    const fetchData = async (localDataArray, key, index) => {\n        return new Promise( async (resolve, reject) => {\n            try {\n                let text = await fetchFileContent(key);\n                let data = parse(text.text);\n                data.key = key;\n                data.text = text.text;\n                data.marked = false;\n                data.selected = false;\n\n                localDataArray[index] = data;\n                let newDataArray = logDataArray.concat(localDataArray);\n                newDataArray.filter (data => data !== undefined)\n                setLogDataArray(newDataArray);             // trigger rendering\n                resolve(data);\n            }\n            catch (err) {\n                reject(err.message)\n            }\n        })\n    }\n\n    const fetchMoreData = async (keysListToFetch) => {\n        setLoading(true);\n\n        let keysList = keysListToFetch || await fetchKeysList();\n        let filteredKeysList = filterNewKeysList(keysList);\n        // let chunkOfKeysList = filteredKeysList.slice(0,numInChunk);\n        if (filteredKeysList.length > 0) {\n            let localDataArray = new Array(filteredKeysList.length);\n            let promises = filteredKeysList.map( (key, index) => fetchData(localDataArray, key, index));\n            try {\n                let fetchedDataArray = await Promise.all(promises);\n                let newDataArray = logDataArray.concat(fetchedDataArray);\n                newDataArray.sort(function(a,b){\n                    return new Date(b.runningDate) - new Date(a.runningDate);\n                });\n                if (!newDataArray.some(data => data.marked)) {\n                    newDataArray[0].marked = true;\n                }\n                if (!newDataArray.some(data => data.selected)) {\n                    newDataArray[0].selected = true;\n                }\n                setLogDataArray(newDataArray);             // trigger rendering\n            } catch (err) {\n                console.log(err.message)\n            }\n        }\n\n        setLoading(false);\n    }\n\n    // Filter keysList: keep only new keys that do not exist in logDataArray\n    const filterNewKeysList = (keysList) => {\n        let filteredKeyList = keysList\n            .filter( key => !logDataArray.some( data => data.key === key))\n        return filteredKeyList;\n    }\n\n    const syncData = () => {\n        fetchMoreData()\n    }\n\n    const fetchUploaded = (keysList) => {\n        fetchMoreData(keysList)\n    }\n\n    // Callback to set new chart data and update selected index\n    const logItemClicked = (clickedData) => {\n        let newLogDataArray = logDataArray.slice();\n        let clickedIndex = newLogDataArray.findIndex( data => data.key === clickedData.key);\n        newLogDataArray.forEach( (data, i) => {\n            data.marked = (i === clickedIndex);\n            data.selected = (i === clickedIndex);\n        });\n        setLogDataArray(newLogDataArray);             // trigger rendering\n    }\n\n    const logItemShiftClicked = (clickedData) => {\n        let newLogDataArray = logDataArray.slice();\n        let clickedIndex = newLogDataArray.findIndex( data => data.key === clickedData.key);\n        newLogDataArray.forEach( (data, i) =>\n            i === clickedIndex ? data.selected = !data.selected : data.selected);\n        setLogDataArray(newLogDataArray);             // trigger rendering\n    }\n\n    const checkMarkClicked = (clickedData) => {\n        let newLogDataArray = logDataArray.slice();\n        let clickedIndex = newLogDataArray.findIndex( data => data.key === clickedData.key);\n        newLogDataArray.forEach( (data, i) =>\n            i === clickedIndex ? data.marked = !data.marked : data.marked);\n        setLogDataArray(newLogDataArray);             // trigger rendering\n    }\n\n    const deleteFile = async () => {\n        let keysToDelete = logDataArray\n            .filter( data => data.marked )\n            .map( data => data.key);\n        if (keysToDelete.length === 0) return;\n        let keyStr = keysToDelete.join(\"\\n\");\n        let message = keysToDelete.length === 1 ?\n            `1 file will be deleted:\\n ${keyStr}` :\n            `${keysToDelete.length} files will be deleted:\\n ${keyStr}`;\n        let ok = window.confirm(message);\n        if (ok) {\n            let deletedKeys = await deleteFilesFromS3(keysToDelete);\n            // let firstDeletedInd = logDataArray.findIndex(data => deletedKeys.includes(data.key));\n            // let newIndex = Math.max(0, firstDeletedInd - 1);\n            let newLogDataArray = logDataArray.filter(data => !deletedKeys.includes(data.key));\n            setLogDataArray(newLogDataArray);             // trigger rendering\n        }\n    }\n\n    const searchJobNameHandler = (e) => {\n        setSearchJobNamePattern(e.target.value);\n    }\n\n    // Effect to load all data from AWS s3 bucket after component mounted\n    useEffect( () => {\n        fetchMoreData();\n    },[]);\n\n    return (\n        <main className={styles.MainComponent}>\n            <RunningLogsList\n                logDataArray={logDataArray\n                    .filter(data => data.jobName.includes(searchJobNamePattern))}\n                loading={loading}\n                logItemClicked={logItemClicked}\n                logItemShiftClicked={logItemShiftClicked}\n                checkMarkClicked={checkMarkClicked}\n                onUploadSucceed={fetchUploaded}\n                onDeleteButtonPressed={deleteFile}\n                onRefreshButtonPressed={syncData}\n                onSearchJobNameChanged={searchJobNameHandler}\n            />\n            <ChartAreaComponent\n                logDataArray={logDataArray\n                    .filter(data => data.jobName.includes(searchJobNamePattern))\n                    .filter( data => data.selected )}\n            />\n        </main>\n    );\n}\n\nexport default MainComponent;\n","import React from 'react';\nimport MainComponent from \"./components/MainComponent/MainComponent\";\nimport './App.css';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <div className=\"content\">\n                <h2>Cloud Log Viewer</h2>\n                <hr />\n                <MainComponent />\n                <hr />\n            </div>\n            <footer className=\"footer\">\n                <p style={{fontSize:\"12px\"}}>Alex Bol 2020</p>\n            </footer>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RunningLogListItem\":\"RunningLogListItem_RunningLogListItem__uRuSE\",\"fadeIn\":\"RunningLogListItem_fadeIn__3YiuN\",\"RunningLogListItemClicked\":\"RunningLogListItem_RunningLogListItemClicked__3gbv5\",\"RunningLogListItemFailed\":\"RunningLogListItem_RunningLogListItemFailed__1tJDs\",\"RunningLogListItemNumeric\":\"RunningLogListItem_RunningLogListItemNumeric__2_88a\",\"RunningLogListItemClickable\":\"RunningLogListItem_RunningLogListItemClickable__2oyp2\",\"RunningLogListItemCheckMarkClicked\":\"RunningLogListItem_RunningLogListItemCheckMarkClicked__3CzaZ\",\"RunningLogListItemCheckMarkNotClicked\":\"RunningLogListItem_RunningLogListItemCheckMarkNotClicked__1ReUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RunningLogsListTable\":\"RunningLogsListTable_RunningLogsListTable__1fKEB\",\"fadeIn\":\"RunningLogsListTable_fadeIn__3m5B_\",\"RunningLogsListTableCheckMark\":\"RunningLogsListTable_RunningLogsListTableCheckMark__1rEXN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BackDrop\":\"ModalPopup_BackDrop__3oXJD\",\"ModalPopup\":\"ModalPopup_ModalPopup__3TsOV\",\"fadeIn\":\"ModalPopup_fadeIn__1BHZf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainComponent\":\"MainComponent_MainComponent__1UCA3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3h9Fb\",\"Icon\":\"Button_Icon__c_IsA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RunningLogsListHeader\":\"RunningLogsListHeader_RunningLogsListHeader__1MFQ4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FileContentPopup\":\"FileContentPopup_FileContentPopup__1wTAX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchInputComponent\":\"SearchInputComponent_SearchInputComponent__23TaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RunningLogsList\":\"RunningLogsList_RunningLogsList__36uf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChartAreaComponent\":\"ChartAreaComponent_ChartAreaComponent__3aRur\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VegaLiteChart\":\"VegaLiteChart_VegaLiteChart__tmxD2\"};"],"sourceRoot":""}